<link rel="stylesheet" href="default.css" type="text/css" />

<h1>Микропроцессор 8080</h1>
<a href="http://www.computer-museum.ru/technlgy/i8080.php">Оригинал статьи</a>.
<p>Эдуард Пройдаков</p>
<p>Так сложилось, что микропроцессор Intel 8080, появившийся на свет божий 1 апреля 1974 г., сыграл очень большую роль на определенном этапе развития ВТ в СССР. Причин тому было несколько: в отличие от довольно жесткой архитектуры 16-разрядного микропроцессора LSI 11, которая шла от миникомпьютеров, 8-разрядный 8080 был удивительно прост. Студенты старших курсов Физтеха, проходившие практику у меня в лаборатории в Институте проблем управления (ИПУ), собирали на нем одноплатные компьютеры у себя в общежитии. С элементной базой в лаборатории всегда было неплохо, и мы даже поощряли подобные вещи - так студент быстрее начинал понимать, что к чему.</p>
<p>На этом процессоре, и его аналогах, совместимых с ним, были сделаны следующие микро-ЭВМ:</p>
<ul>
<li>ВЭФормика (НИИФЭФ);</li>
<li>К-1715 (Роботрон, ГДР);</li>
<li>СМ-1800 (ИНЭУМ, Москва);</li>
<li>АПОС-80 (п/я 300, Е. Цибульский, С. Макеев, Э. Пройдаков и др.)</li>
</ul>
<p>Единственный существенный недостаток - процессор требовал трех уровней напряжения питания.</p>
<p>Система команд 8080 насчитывала 79 инструкций (см. <a href="#cmdlist">Справочник по системе команд микропроцессора Intel 8080</a>).</p>
<p>Киевское НПО "Кристалл" в конце 70-х годов выпустило микропроцессорный комплект К580, в который входили следующие микросхемы:</p>
<ul>
<li>К580ВМ80 - процессор, совместимый с i8080;</li>
<li>К580ВВ51 - адаптер последовательного интерфейса, аналог Intel 8151;</li>
<li>К580ВВ53 - интервальный таймер;</li>
<li>К580ВВ55А - адаптер параллельного интерфейса;</li>
<li>К580ВТ57 - контроллер прямого доступа в память;</li>
<li>К580ВН59А - контроллер прерываний;</li>
<li>К580ВГ72 - контроллер накопителя на гибких дисках;</li>
<li>К580ВГ75 - контроллер электронно-лучевой трубки;</li>
<li>К580ВГ79 - контроллер клавиатуры и индикации;</li>
<li>К580ВК91А - контроллер канала общего пользования;</li>
<li>К580ВГ92А - контроллер приборного интерфейса.</li>
</ul>
<p>К сожалению, у меня описания этих микросхем не сохранились, поэтому буду признателен всем, кто пришлет описание программирования указанных БИС.</p>
<p>Отмечу, что у корпорации Intel для 8080/85 выпускалась микросхема арифметического ускорителя. Однако так как 8080 составлял реальную угрозу продвигаемому МЭПом микропроцессору "Электроника-60", то эта микросхема в СССР никогда не воспроизводилась.</p>

<a name="archit"></a>
<h2>Архитектура процессора 8080</h2>



<h3>Регистровый файл </h3>

<table cellspacing="0" cellpadding="5" border="0">
  <tr>
    <td>A </td>
    <td>флаги </td>
  </tr>
  <tr>
    <td>B </td>
    <td>C </td>
  </tr>
  <tr>
    <td>D </td>
    <td>E </td>
  </tr>
  <tr>
    <td>H </td>
    <td>L </td>
  </tr>
  <tr>
    <td width="206" colspan="2" valign="top"><p>PC (счётчик команд) </td>
  </tr>
  <tr>
    <td width="206" colspan="2" valign="top"><p>SP (указатель стека ) </td>
  </tr>
</table>
<p>Пара регистров A + флаги (первая строка таблицы) образуют 16 разрядный регистр, именуемый PSW, причём A занимает старший байт слова, а флаги &nbsp;&mdash; младший. Аналогично регистры B и C образуют 16-разрядный регистр BC, регистры D и E – регистр DE, регистры H и L – регистр HL. </p>
<h3>Регистр флагов </h3>

<table cellspacing="0" cellpadding="0">
  <tr>
    <td valign="top">D7</td>
    <td valign="top">&nbsp;</td>
    <td valign="top">&nbsp;</td>
    <td valign="top">&nbsp;</td>
    <td valign="top">&nbsp;</td>
    <td valign="top">&nbsp;</td>
    <td valign="top">&nbsp;</td>
    <td valign="top">D0 </td>
  </tr>
  <tr>
    <td width="50">S </td>
    <td width="50">Z </td>
    <td width="50">x </td>
    <td width="50">AC </td>
    <td width="50">x </td>
    <td width="50">P </td>
    <td width="50">x </td>
    <td width="50">C </td>
  </tr>
</table>
<p>S – знак <br>Z – нуль <br>x – значение не определено <br>AC – вспомогательный перенос <br>P – чётность <br>С – перенос </p>

<h3>Назначение регистров </h3>

<table cellspacing="0" cellpadding="5">
  <tr>
    <td valign="top">A</td>
    <td valign="top">– аккумулятор. Все арифметические и логические операции производятся только между A и другими регистрами или между A и байтом непосредственных данных. </td>
  </tr>
  <tr>
    <td valign="top">B, C, D, E, H и L</td>
    <td valign="top">– 8-разрядные регистры общего назначения. </td>
  </tr>
  <tr>
    <td valign="top">HL</td>
    <td valign="top">– регистровая пара, состоящая из двух 8-разрядных регистров ( H – старший регистр, L -- младший), используется для косвенно-регистровой адресации 64 Кбайт памяти. </td>
  </tr>
  <tr>
    <td valign="top">DE</td>
    <td>– часто используемая регистровая пара, поскольку имеется команда обмена содержимым между парами HL и DE . </td>
  </tr>
  <tr>
    <td valign="top"> PC</td>
    <td>– счётчик команд, содержит адрес очередной исполняемой команды. </td>
  </tr>
  <tr>
    <td valign="top">SP</td>
    <td>– указатель стека автоматически инкрементируется на 2 при записи пары регистров в стек (отдельный 8-разрядный регистр в стек записать нельзя, только парами) и декрементируется при извлечении из регистровой пары из стека. </td>
  </tr>
  <tr>
    <td valign="top">F</td>
    <td>– регистр флагов. Непосредственно недоступен программисту, но его в составе PSW можно сохранить в стеке, а потом извлечь в другую регистровую пару, если нужно специально установить или проверить нужные флаги. </td>
  </tr>
</table>
<p>Так как адресное пространство всего 64 Кбайт, то полный адрес занимает 2 байта. Команды этого процессора бывают одно-, двух- и трёхбайтными. В первом байте всегда содержится код операции. Единственный существенный недостаток 8080 – процессор требовал трёх уровней напряжения питания. </p>

<a name="cmdlist"></a>
<h2>Справочник по системе команд микропроцессора Intel 8080</h2>
<p>Команды этого процессора бывают одно-, двух- и трехбайтными. В первом байте всегда содержится код операции.</p>
<p class=HeadingLow>Обозначения.</p>
<p><span class=HTMLCode>A, B, ..., L</span> - названия 8-разрядных регистров.</p>
<p><span class=HTMLCode>BC, DE, HL</span> - названия регистровых пар, образующих 16-разрядные регистры.</p>
<p><span class=HTMLCode>SP</span> - 16-разрядный указатель стека.</p>
<p><span class=HTMLCode>PSW</span> - слово состояния программы, содержит регистр флагов.</p>
<p><span class=HTMLCode>a16</span> - двухбайтовый адрес.</p>
<p><span class=HTMLCode>d8</span> - байт непосредственных данных.</p>
<p><span class=HTMLCode>d16</span> - два байта непосредственных данных.</p>
<p><span class=HTMLCode>pp</span> - номер порта ввода-вывода.</p>

<table cellpadding=5 cellspacing=0 >
<tr>
<td width="20%">
Команда

</td>
<td width="20%">
Код

</td>
<td>
Описание</td>
</tr>
<tr>
<td>
ADD A

</td>
<td>
87

</td>
<td>
A&larr;(A) + (A)

</td>
</tr>
<tr>
<td>
ADD B

</td>
<td>
80

</td>
<td>
A&larr;(B) + (A)

</td>
</tr>
<tr>
<td>
ADD C

</td>
<td>
81

</td>
<td>
A&larr;(C) + (A)

</td>
</tr>
<tr>
<td>
ADD D

</td>
<td>
82

</td>
<td>
A&larr;(D) + (A)

</td>
</tr>
<tr>
<td>
ADD E

</td>
<td>
83

</td>
<td>
A&larr;(E) + (A)

</td>
</tr>
<tr>
<td>
ADD H

</td>
<td>
84

</td>
<td>
A&larr;(H) + (A)

</td>
</tr>
<tr>
<td>
ADD L

</td>
<td>
85

</td>
<td>
A&larr;(L) + (A)

</td>
</tr>
<tr>
<td>
ADD M

</td>
<td>
86

</td>
<td>
A&larr;Loc(HL) + (A)

</td>
</tr>
<tr>
<td>
ADI d8

</td>
<td>
C6

</td>
<td>
A&larr;d8 + (A)

</td>
</tr>
<tr>
<td>
ADC A

</td>
<td>
8F

</td>
<td>
A&larr;(A) + (A) + CY

</td>
</tr>
<tr>
<td>
ADC B

</td>
<td>
88

</td>
<td>
A&larr;(B) + (A) + CY

</td>
</tr>
<tr>
<td>
ADC C

</td>
<td>
89

</td>
<td>
A&larr;(C) + (A) + CY

</td>
</tr>
<tr>
<td>
ADC D

</td>
<td>
8A

</td>
<td>
A&larr;(D) + (A) + CY

</td>
</tr>
<tr>
<td>
ADC E

</td>
<td>
8B

</td>
<td>
A&larr;(E) + (A) + CY

</td>
</tr>
<tr>
<td>
ADC H

</td>
<td>
8C

</td>
<td>
A&larr;(H) + (A) + CY

</td>
</tr>
<tr>
<td>
ADC L

</td>
<td>
8D

</td>
<td>
A&larr;(L) + (A) + CY

</td>
</tr>
<tr>
<td>
ADC M

</td>
<td>
8E

</td>
<td>
A&larr;Loc(HL) + (A) + CY

</td>
</tr>
<tr>
<td>
ACI d8

</td>
<td>
CE

</td>
<td>
A&larr;d8 + (A) + CF

</td>
</tr>
<tr>
<td>
ANA A

</td>
<td>
A7

</td>
<td>
Проверка A

</td>
</tr>
<tr>
<td>
ANA B

</td>
<td>
A0

</td>
<td>
Логическое И B с A

</td>
</tr>
<tr>
<td>
ANA C

</td>
<td>
A1

</td>
<td>
Логическое И C с A

</td>
</tr>
<tr>
<td>
ANA D

</td>
<td>
A2

</td>
<td>
Логическое И D с A

</td>
</tr>
<tr>
<td>
ANA E

</td>
<td>
A3

</td>
<td>
Логическое И E с A

</td>
</tr>
<tr>
<td>
ANA H

</td>
<td>
A4

</td>
<td>
Логическое И H с A

</td>
</tr>
<tr>
<td>
ANA L

</td>
<td>
A5

</td>
<td>
Логическое И L с A

</td>
</tr>
<tr>
<td>
ANA M

</td>
<td>
A6

</td>
<td>
Логическое И Loc(HL) с A

</td>
</tr>
<tr>
<td>
ANI d8

</td>
<td>
E6

</td>
<td>
Логическое И непосредственные данные с A

</td>
</tr>
<tr>
<td>
CALL a16

</td>
<td>
CD

</td>
<td>
Передать управление подпрограмме по адресу a16</td>
</tr>
<tr>
<td>
CZ a16

</td>
<td>
CC

</td>
<td>
Вызвать подпрограмму по адресу a16, если нуль

</td>
</tr>
<tr>
<td>
СNZ a16

</td>
<td>
C4

</td>
<td>
То же, если не нуль

</td>
</tr>
<tr>
<td>
СP a16

</td>
<td>
F4

</td>
<td>
То же, если плюс

</td>
</tr>
<tr>
<td>
СM a16

</td>
<td>
FC

</td>
<td>
То же, если минус

</td>
</tr>
<tr>
<td>
CC a16

</td>
<td>
DC</td>
<td>
То же, если перенос

</td>
</tr>
<tr>
<td>
CNC a16

</td>
<td>
D4

</td>
<td>
То же, если нет переноса

</td>
</tr>
<tr>
<td>
CPE a16

</td>
<td>
EC

</td>
<td>
То же, если чётно

</td>
</tr>
<tr>
<td>
CPO a16

</td>
<td>
E4

</td>
<td>
То же, если нечётно

</td>
</tr>
<tr>
<td>
CMA

</td>
<td>
2F

</td>
<td>
Инвертировать A

</td>
</tr>
<tr>
<td>
CMC

</td>
<td>
3F

</td>
<td>
Инвертировать перенос

</td>
</tr>
<tr>
<td>
CMP A

</td>
<td>
BF

</td>
<td>
Установить флаг FZ

</td>
</tr>
<tr>
<td>
CMP B

</td>
<td>
B8

</td>
<td>
Сравнить A с B

</td>
</tr>
<tr>
<td>
CMP C

</td>
<td>
B9

</td>
<td>
Сравнить A с C

</td>
</tr>
<tr>
<td>
CMP D

</td>
<td>
BA

</td>
<td>
Сравнить A с D

</td>
</tr>
<tr>
<td>
CMP E

</td>
<td>
BB

</td>
<td>
Сравнить A с E

</td>
</tr>
<tr>
<td>
CMP H

</td>
<td>
BC

</td>
<td>
Сравнить A с H

</td>
</tr>
<tr>
<td>
CMP L

</td>
<td>
BD

</td>
<td>
Сравнить A с L

</td>
</tr>
<tr>
<td>
CMP M

</td>
<td>
BE

</td>
<td>
Сравнить A с Loc(HL)

</td>
</tr>
<tr>
<td>
CPI d8

</td>
<td>
FE</td>
<td>
Сравнить A с непосредственными данными, заданными в команде

</td>
</tr>
<tr>
<td>
DAA

</td>
<td>
27

</td>
<td>
Десятичная коррекция аккумулятора (совершенно бесполезная команда. Я так и ни разу ей и не воспользовался:)

</td>
</tr>
<tr>
<td>
DAD
B

</td>
<td>09</td>
<td>
Сложить BC с HL

</td>
</tr>
<tr>
<td>
DAD
D

</td>
<td>19
</td>
<td>
Сложить DE с HL

</td>
</tr>
<tr>
<td>
DAD
H

</td>
<td>29
</td>
<td>
Сложить HL с HL (удвоение HL)

</td>
</tr>
<tr>
<td>
DAD
SP

</td>
<td>39
</td>
<td>
Сложить SP с HL

</td>
</tr>
<tr>
<td>
DCR A

</td>
<td>
3D

</td>
<td>
A&larr;(A) - 1 (декремент A)

</td>
</tr>
<tr>
<td>
DCR B

</td>
<td>
05

</td>
<td>
B&larr;(B) - 1

</td>
</tr>
<tr>
<td>
DCR C

</td>
<td>
0D

</td>
<td>
C&larr;(C) - 1

</td>
</tr>
<tr>
<td>
DCR D

</td>
<td>
15

</td>
<td>
D&larr;(D) - 1

</td>
</tr>
<tr>
<td>
DCR E

</td>
<td>
1D

</td>
<td>
E&larr;(E) - 1

</td>
</tr>
<tr>
<td>
DCR H

</td>
<td>
25

</td>
<td>
H&larr;(H) - 1

</td>
</tr>
<tr>
<td>
DCR L

</td>
<td>
2D

</td>
<td>
L&larr;(L) - 1

</td>
</tr>
<tr>
<td>
DCR M

</td>
<td>
35</td>
<td>
Loc (HL)&larr;(Loc(HL)) -1

</td>
</tr>
<tr>
<td>
DCX B

</td>
<td>
0B

</td>
<td>
BC&larr;(BC) - 1

</td>
</tr>
<tr>
<td>
DCX D

</td>
<td>
1B

</td>
<td>
DE&larr;(DE) -1

</td>
</tr>
<tr>
<td>
DCX H

</td>
<td>
2B

</td>
<td>
HL&larr;(HL) - 1

</td>
</tr>
<tr>
<td>
DCX SP

</td>
<td>
3B

</td>
<td>
SP&larr;(SP) -1

</td>
</tr>
<tr>
<td>
DI

</td>
<td>
F3

</td>
<td>
Запретить прерывания

</td>
</tr>
<tr>
<td>
EI

</td>
<td>
FB

</td>
<td>
Разрешить прерывания

</td>
</tr>
<tr>
<td>
HLT

</td>
<td>
76

</td>
<td>
Останов процессора

</td>
</tr>
<tr>
<td>
IN pp

</td>
<td>
DB

</td>
<td>
Ввести данные из порта pp

</td>
</tr>
<tr>
<td>
INR A

</td>
<td>
3C

</td>
<td>
A&larr;(A) + 1 (инкрементировать A)

</td>
</tr>
<tr>
<td>
INR B

</td>
<td>
04

</td>
<td>
Инкрементировать B

</td>
</tr>
<tr>
<td>
INR C

</td>
<td>
0C

</td>
<td>
Инкрементировать C

</td>
</tr>
<tr>
<td>
INR D

</td>
<td> 14</td>
<td>
Инкрементировать D

</td>
</tr>
<tr>
<td>
INR E

</td>
<td>
1C </td>
<td>
Инкрементировать E

</td>
</tr>
<tr>
<td>
INR H

</td>
<td> 24
</td>
<td>
Инкрементировать H

</td>
</tr>
<tr>
<td>
INR L

</td>
<td>
2C

</td>
<td>
Инкрементировать L

</td>
</tr>
<tr>
<td>
INR M

</td>
<td>
34

</td>
<td>
Инкрементировать содержимое Loc(HL)

</td>
</tr>
<tr>
<td>
INX B

</td>
<td>
03

</td>
<td>
Инкрементировать BС

</td>
</tr>
<tr>
<td>
INX D

</td>
<td>
13

</td>
<td>
Инкрементировать DE

</td>
</tr>
<tr>
<td>
INX H

</td>
<td>
23

</td>
<td>
Инкрементировать HL

</td>
</tr>
<tr>
<td>
INX SP

</td>
<td>
33

</td>
<td>
Инкрементировать SP

</td>
</tr>
<tr>
<td>
JMP a16

</td>
<td>
C3

</td>
<td>
Перейти по адресу a16

</td>
</tr>
<tr>
<td>
JZ a16

</td>
<td>
CA

</td>
<td>
То же, если нуль

</td>
</tr>
<tr>
<td>
JNZ a16

</td>
<td>
C2

</td>
<td>
То же, если не нуль

</td>
</tr>
<tr>
<td>
JP a16

</td>
<td>
F2

</td>
<td>
То же, если плюс

</td>
</tr>
<tr>
<td>
JM a16

</td>
<td>
FA

</td>
<td>
То же, если минус

</td>
</tr>
<tr>
<td>
JC a16

</td>
<td>
DA

</td>
<td>
То же, если перенос

</td>
</tr>
<tr>
<td>
JNC a16

</td>
<td>
D2

</td>
<td>
То же, если нет переноса

</td>
</tr>
<tr>
<td>
JPE a16

</td>
<td>
EA

</td>
<td>
Перейти по адресу a16, если паритет чётный

</td>
</tr>
<tr>
<td>
JPO a16

</td>
<td>
E2

</td>
<td>
Перейти по адресу a16, если паритет нечётный

</td>
</tr>
<tr>
<td>
LDA a16</td>
<td>
3A

</td>
<td>
Загрузить A из 


 ячейки

 с адресом a16

</td>
</tr>
<tr>
<td>
LDAX B

</td>
<td>
0A

</td>
<td>
Загрузить A из ячейки  с адресом Loc(BC)

</td>
</tr>
<tr>
<td>
LDAX D

</td>
<td>
1A

</td>
<td>
Загрузить A из ячейки с адресом Loc(DE)

</td>
</tr>
<tr>
<td>
LHLD a16

</td>
<td>
2A

</td>
<td>
Загрузить в HL содержимое ячейки с адресом a16

</td>
</tr>
<tr>
<td>
LXI B,d16

</td>
<td>
01

</td>
<td>
Загрузить в BC непосредственные данные d16

</td>
</tr>
<tr>
<td>
LXI H,d16

</td>
<td>
21

</td>
<td>
Загрузить в HL непосредственные данные d16

</td>
</tr>
<tr>
<td>
LXI SP,d16

</td>
<td>
31

</td>
<td>
Загрузить в SP непосредственные данные d16

</td>
</tr>
<tr>
  <td> MOV A,A</td>
  <td> 7F</td>
  <td> Переслать из A в A </td>
</tr>
<tr>
<td>
MOV A,B

</td>
<td>
78

</td>
<td>
Переслать из B в A (B&larr;(A) )

</td>
</tr>
<tr>
<td>
MOV A,C

</td>
<td>
79

</td>
<td>
Переслать из C в

A </td>
</tr>
<tr>
<td>
MOV A,D

</td>
<td>
7A

</td>
<td>
Переслать из  D в

A 

</td>
</tr>
<tr>
<td>
MOV A,E

</td>
<td>
7B

</td>
<td>
Переслать из  E
в

A 
</td>
</tr>
<tr>
<td>
MOV A,H

</td>
<td>
7C

</td>
<td>
Переслать из  H
в

A 
</td>
</tr>
<tr>
<td>
MOV A,L

</td>
<td>
7D

</td>
<td>
Переслать из  L
в

A 
</td>
</tr>
<tr>
<td>
MOV A,M

</td>
<td>
7E

</td>
<td>
Переслать из Loc(HL)
в

A 
</td>
</tr>
<tr>
<td>
MOV B,A

</td>
<td>
47

</td>
<td>
Переслать из A в B</td>
</tr>
<tr>
  <td> MOV B,B</td>
  <td> 40</td>
  <td> Переслать из B в B 


 (ещё одна странная команда)</td>
</tr>
<tr>
<td>
MOV B,C

</td>
<td>
41

</td>
<td>
Переслать из  C
в B
</td>
</tr>
<tr>
<td>
MOV B,D

</td>
<td>
42

</td>
<td>
Переслать из  D
в B
</td>
</tr>
<tr>
<td>
MOV B,E

</td>
<td>
43

</td>
<td>
Переслать из  E
в B
</td>
</tr>
<tr>
<td>
MOV B,H

</td>
<td>
44

</td>
<td>
Переслать из  H
в B
</td>
</tr>
<tr>
<td>
MOV B,L

</td>
<td>
45

</td>
<td>
Переслать из  L
в B
</td>
</tr>
<tr>
<td>
MOV B,M

</td>
<td>
46

</td>
<td>
Переслать из Loc(HL)
в B
</td>
</tr>
<tr>
<td>
MOV C,A

</td>
<td>
4F

</td>
<td>
Переслать из  A
в C
</td>
</tr>
<tr>
<td>
MOV C,B

</td>
<td>
48

</td>
<td>
Переслать из B
в C
</td>
</tr>
<tr>
  <td> MOV C,C</td>
  <td> 49</td>
  <td> Переслать из  C в C</td>
</tr>
<tr>
<td>
MOV C,D

</td>
<td>
4A

</td>
<td>
Переслать из  D
в C
</td>
</tr>
<tr>
<td>
MOV C,E

</td>
<td>
4B

</td>
<td>
Переслать из  E

в C

</td>
</tr>
<tr>
<td>
MOV C,H

</td>
<td>
4C

</td>
<td>
Переслать из  H

в C

</td>
</tr>
<tr>
<td>
MOV C,L

</td>
<td>
4D

</td>
<td>
Переслать из  L

в C

</td>
</tr>
<tr>
<td>
MOV C,M

</td>
<td>
4E

</td>
<td>
Переслать из  Loc(HL)

в C

</td>
</tr>
<tr>
<td>
MOV D,A

</td>
<td>
57

</td>
<td>
Переслать из   A в
D
</td>
</tr>
<tr>
<td>
MOV D,B

</td>
<td>
50

</td>
<td>
Переслать из  B
в
D
</td>
</tr>
<tr>
<td>
MOV D,C

</td>
<td>
51

</td>
<td>
Переслать из  C
в
D
</td>
</tr>
<tr>
  <td> MOV D,D</td>
  <td> 52</td>
  <td> Переслать из D в D </td>
</tr>
<tr>
<td>
MOV D,E

</td>
<td>
53

</td>
<td>
Переслать из  E
в
D
</td>
</tr>
<tr>
<td>
MOV D,H

</td>
<td>
54

</td>
<td>
Переслать из  H
в
D
</td>
</tr>
<tr>
<td>
MOV D,L

</td>
<td>
55

</td>
<td>
Переслать из  L
в
D
</td>
</tr>
<tr>
<td>
MOV D,M

</td>
<td>
56

</td>
<td>
Переслать из  Loc(HL)
в
D
</td>
</tr>
<tr>
<td>
MOV E,A

</td>
<td>
5F

</td>
<td>
Переслать из  A
в E</td>
</tr>
<tr>
<td>
MOV E,B

</td>
<td>
58

</td>
<td>
Переслать из B
 в E
</td>
</tr>
<tr>
<td>
MOV E,C

</td>
<td>
59

</td>
<td>
Переслать из  C
 в E
</td>
</tr>
<tr>
<td>
MOV E,D

</td>
<td>
5A

</td>
<td>
Переслать из  D
в E
</td>
</tr>
<tr>
  <td> MOV E,E</td>
  <td> 5B</td>
  <td> Переслать из E в E </td>
</tr>
<tr>
<td>
MOV E,H

</td>
<td>
5C

</td>
<td>
Переслать из  H
в E
</td>
</tr>
<tr>
<td>
MOV E,L

</td>
<td>
5D

</td>
<td>
Переслать из  L
в E
</td>
</tr>
<tr>
<td>
MOV E,M

</td>
<td>
5E

</td>
<td>
Переслать из Loc(HL)
в E
</td>
</tr>
<tr>
<td>
MOV H,A

</td>
<td>
67

</td>
<td>
Переслать из  A
в H</td>
</tr>
<tr>
<td>
MOV H,B

</td>
<td>
60

</td>
<td>
Переслать из  B
в H</td>
</tr>
<tr>
<td>
MOV H,C

</td>
<td>
61

</td>
<td>
Переслать из  C
в H
</td>
</tr>
<tr>
<td>
MOV H,D

</td>
<td>
62

</td>
<td>
Переслать из  D
в H
</td>
</tr>
<tr>
<td>
MOV H,E

</td>
<td>
63

</td>
<td>
Переслать из  E
в H
</td>
</tr>
<tr>
  <td> MOV H,H</td>
  <td> 64</td>
  <td> Переслать из H в H </td>
</tr>
<tr>
<td>
MOV H,L

</td>
<td>
65

</td>
<td>
Переслать из  L
в H
</td>
</tr>
<tr>
<td>
MOV H,M

</td>
<td>
66

</td>
<td>
Переслать из  Loc(HL)
в H
</td>
</tr>
<tr>
<td>
MOV L,A

</td>
<td>
6F

</td>
<td>
Переслать из A
в L</td>
</tr>
<tr>
<td>
MOV L,B

</td>
<td>
68

</td>
<td>
Переслать из B
в L
</td>
</tr>
<tr>
<td>
MOV L,C

</td>
<td>
69

</td>
<td>
Переслать из C
в L
</td>
</tr>
<tr>
<td>
MOV L,D

</td>
<td>
6A

</td>
<td>
Переслать из D
в L
</td>
</tr>
<tr>
<td>
MOV L,E

</td>
<td>
6B

</td>
<td>
Переслать из E
в L
</td>
</tr>
<tr>
<td>
MOV L,H

</td>
<td>
6C

</td>
<td>
Переслать из H
в L
</td>
</tr>
<tr>
  <td> MOV L,L</td>
  <td> 6D</td>
  <td> Переслать из L в L </td>
</tr>
<tr>
<td>
MOV L,M

</td>
<td>
6E

</td>
<td>
Переслать из Loc(HL)
в L
</td>
</tr>
<tr>
<td>
MOV M,A

</td>
<td>
77

</td>
<td>
Переслать из  A
в M</td>
</tr>
<tr>
<td>
MOV M,B

</td>
<td>
70

</td>
<td>
Переслать из  B
в M
</td>
</tr>
<tr>
<td>
MOV M,C

</td>
<td>
71

</td>
<td>
Переслать из  C
в M
</td>
</tr>
<tr>
<td>
MOV M,D

</td>
<td>
72

</td>
<td>
Переслать из  D
в M
</td>
</tr>
<tr>
<td>
MOV M,E

</td>
<td>
73

</td>
<td>
Переслать из  E
в M
</td>
</tr>
<tr>
<td>
MOV M,H

</td>
<td>
74

</td>
<td>
Переслать из  H
в M
</td>
</tr>
<tr>
<td>
MOV M,L

</td>
<td>
75

</td>
<td>
Переслать из  L
в M
</td>
</tr>
<tr>
<td>
MVI A,d8

</td>
<td>
3E

</td>
<td>
Переслать d8 в A

</td>
</tr>
<tr>
<td>
MVI B,d8

</td>
<td>
06

</td>
<td>
Переслать d8 в B

</td>
</tr>
<tr>
<td>
MVI C,d8

</td>
<td>
0E

</td>
<td>
Переслать d8 в C

</td>
</tr>
<tr>
<td>
MVI D,d8

</td>
<td>
16

</td>
<td>
Переслать d8 в D

</td>
</tr>
<tr>
<td>
MVI E,d8

</td>
<td>
1E

</td>
<td>
Переслать d8 в E

</td>
</tr>
<tr>
<td>
MVI H,d8

</td>
<td>
26

</td>
<td>
Переслать d8 в H

</td>
</tr>
<tr>
<td>
MVI L,d8

</td>
<td>
2E

</td>
<td>
Переслать d8 в L

</td>
</tr>
<tr>
<td>
MVI M,d8

</td>
<td>
36

</td>
<td>
Переслать d8 в Loc(HL)

</td>
</tr>
<tr>
<td>
NOP </td>
<td>00 
</td>

<td>Нет операции


</td>
</tr>
<tr>
<td>
ORA A

</td>
<td>
B7

</td>
<td>
Проверить A и сбросить перенос

</td>
</tr>
<tr>
<td>
ORA B

</td>
<td>
B0

</td>
<td>
Логичеcкая операция A

ИЛИ B </td>
</tr>
<tr>
<td>
ORA C

</td>
<td>
B1

</td>
<td>
Логичеcкая операция A

ИЛИ C 

</td>
</tr>
<tr>
<td>
ORA D

</td>
<td>
B2

</td>
<td>
Логичеcкая операция A

ИЛИ D 

</td>
</tr>
<tr>
<td>
ORA E

</td>
<td>
B3

</td>
<td>
Логичеcкая операция A

ИЛИ E 

</td>
</tr>
<tr>
<td>
ORA H

</td>
<td>
B4

</td>
<td>
Логичеcкая операция A

ИЛИ H 

</td>
</tr>
<tr>
<td>
ORA L

</td>
<td>
B5

</td>
<td>
Логичеcкая операция A

ИЛИ L 

</td>
</tr>
<tr>
<td>
ORA M

</td>
<td>
B6

</td>
<td>
Логичеcкая операция A

ИЛИ M 

</td>
</tr>
<tr>
<td>
ORI d8

</td>
<td>
F6

</td>
<td>
Логичеcкая операция A

ИЛИ d8 

</td>
</tr>
<tr>
<td>
OUT pp

</td>
<td>
D3

</td>
<td>
Записать A в порт pp

</td>
</tr>
<tr>
<td>
PCHL

</td>
<td>
E9

</td>
<td>
Передать управление по адресу в HL

</td>
</tr>
<tr>
<td>
POP B

</td>
<td>
C1

</td>
<td>
Извлечь слово из стека в BC

</td>
</tr>
<tr>
<td>
POP D

</td>
<td>
D1

</td>
<td>
Извлечь слово из стека в DE

</td>
</tr>
<tr>
<td>
POP H

</td>
<td>
E1

</td>
<td>
Извлечь слово из стека в HL

</td>
</tr>
<tr>
<td>
POP PSW

</td>
<td>
F1

</td>
<td>
Извлечь слово из стека в PSW

</td>
</tr>
<tr>
<td>
PUSH B

</td>
<td>
C5

</td>
<td>
Поместить в стек содержимое BC

</td>
</tr>
<tr>
<td>
PUSH D

</td>
<td>
D5

</td>
<td>
Поместить в стек содержимое DE

</td>
</tr>
<tr>
<td>
PUSH H

</td>
<td>
E5

</td>
<td>
Поместить в стек содержимое HL

</td>
</tr>
<tr>
<td>
PUSH PSW

</td>
<td>
F5

</td>
<td>
Поместить в стек содержимое PSW

</td>
</tr>
<tr>
<td>
RAL

</td>
<td>
17

</td>
<td>
Циклический сдвиг CY + A влево

</td>
</tr>
<tr>
<td>
RAR

</td>
<td>
1F

</td>
<td>
Циклический сдвиг CY + A вправо

</td>
</tr>
<tr>
<td>
RLC</td>
<td>
07

</td>
<td>
Сдвинуть A влево на один разряд с переносом

</td>
</tr>
<tr>
<td>
RRC</td>
<td>
0F

</td>
<td>
Сдвинуть A вправо на один разряд с переносом

</td>
</tr>
<tr>
<td>
RIM

</td>
<td>
20

</td>
<td>
Считать маску прерывания (только в 8085)

</td>
</tr>
<tr>
<td>
RET

</td>
<td>
C9

</td>
<td>
Возврат из подпрограммы

</td>
</tr>
<tr>
<td>
RZ

</td>
<td>
C8

</td>
<td>
Возврат из подпрограммы, если FZ=0

</td>
</tr>
<tr>
<td>
RNZ

</td>
<td>
C0

</td>
<td>
Возврат из подпрограммы, если FZ=1

</td>
</tr>
<tr>
<td>
RP

</td>
<td>
F0

</td>
<td>
Возврат из подпрограммы, если FP=1

</td>
</tr>
<tr>
<td>
RM

</td>
<td>
F8

</td>
<td>
Возврат из подпрограммы, если FP=0

</td>
</tr>
<tr>
<td>
RC

</td>
<td>
D8

</td>
<td>
Возврат из подпрограммы, если FC=1

</td>
</tr>
<tr>
<td>
RNC

</td>
<td>
D0

</td>
<td>
Возврат из подпрограммы, если FC=0

</td>
</tr>
<tr>
<td>
RPE

</td>
<td>
E8

</td>
<td>
Возврат из подпрограммы, если паритет чётный

</td>
</tr>
<tr>
<td>
RPO

</td>
<td>
E0

</td>
<td>
Возврат из подпрограммы, если паритет нечётный

</td>
</tr>
<tr>
<td>
RST 0

</td>
<td>
C7

</td>
<td>
Запуск программы с адреса 0

</td>
</tr>
<tr>
<td>
RST 1

</td>
<td>
CF

</td>
<td>
Запуск программы с адреса 8h

</td>
</tr>
<tr>
<td>
RST 2

</td>
<td>
D7

</td>
<td>
Запуск программы с адреса 10h

</td>
</tr>
<tr>
<td>
RST 3

</td>
<td>
DF

</td>
<td>
Запуск программы с адреса 18h

</td>
</tr>
<tr>
<td>
RST 4

</td>
<td>
E7

</td>
<td>
Запуск программы с адреса 20h

</td>
</tr>
<tr>
<td>
RST 5

</td>
<td>
EF

</td>
<td>
Запуск программы с адреса 28h

</td>
</tr>
<tr>
<td>
RST 6

</td>
<td>
F7

</td>
<td>
Запуск программы с адреса 30h

</td>
</tr>
<tr>
<td>
RST 7

</td>
<td>
FF

</td>
<td>
Запуск программы с адреса 38h

</td>
</tr>
<tr>
<td>
SIM </td>
<td>30 
</td>
<td>Установить маску прерывания (только в 8085) 


</td>
</tr>
<tr>
<td>
SPHL

</td>
<td>
F9

</td>
<td>
Загрузить SP из HL

</td>
</tr>
<tr>
<td>
SHLD a16

</td>
<td>
22

</td>
<td>
Записать HL по адресу a16

</td>
</tr>
<tr>
<td>
STA a16

</td>
<td>
32

</td>
<td>
Записать A по адресу a16

</td>
</tr>
<tr>
<td>
STAX B

</td>
<td>
02

</td>
<td>
Записать A по адресу Loc(BC)

</td>
</tr>
<tr>
<td>
STAX D

</td>
<td>
12

</td>
<td>
Записать A по адресу Loc(DE)

</td>
</tr>
<tr>
<td>
STC

</td>
<td>
37

</td>
<td>
Установить флаг переноса (CF=1)

</td>
</tr>
<tr>
<td>
SUB A

</td>
<td>
97</td>
<td>
Вычесть А из А (очистить А)

</td>
</tr>
<tr>
<td>
SUB B

</td>
<td>
90</td>
<td>
Вычесть B из А

</td>
</tr>
<tr>
<td>
SUB C

</td>
<td>
91</td>
<td>
Вычесть C из А

</td>
</tr>
<tr>
<td>
SUB D

</td>
<td>
92</td>
<td>
Вычесть D из А

</td>
</tr>
<tr>
<td>
SUB E

</td>
<td>
93</td>
<td>
Вычесть E из А

</td>
</tr>
<tr>
<td>
SUB H

</td>
<td>
94</td>
<td>
Вычесть H из А

</td>
</tr>
<tr>
<td>
SUB L

</td>
<td>
95</td>
<td>
Вычесть L из А

</td>
</tr>
<tr>
<td>
SUB M

</td>
<td>
96</td>
<td>
Вычесть M из А

</td>
</tr>
<tr>
<td>
SUI d8

</td>
<td>
D6</td>
<td>
Вычесть d8 из А

</td>
</tr>
<tr>
<td>
SBB A

</td>
<td>
9F

</td>
<td>
Вычесть А из А (очистить А)

</td>
</tr>
<tr>
<td>
SBB B

</td>
<td>
98

</td>
<td>
Вычесть c заёмом B из А

</td>
</tr>
<tr>
<td>
SBB C

</td>
<td>
99

</td>
<td>
Вычесть c заёмом C из А

</td>
</tr>
<tr>
<td>
SBB D

</td>
<td>
9A

</td>
<td>
Вычесть c заёмом D из А

</td>
</tr>
<tr>
<td>
SBB E

</td>
<td>
9B

</td>
<td>
Вычесть c заёмом E из А

</td>
</tr>
<tr>
<td>
SBB H

</td>
<td>
9C

</td>
<td>
Вычесть c заёмом H из А

</td>
</tr>
<tr>
<td>
SBB L

</td>
<td>
9D

</td>
<td>
Вычесть c заёмом L из А

</td>
</tr>
<tr>
<td>
SBB M

</td>
<td>
9E

</td>
<td>
Вычесть c заёмом M из А

</td>
</tr>
<tr>
<td>
SBI d8

</td>
<td>
DE

</td>
<td>
Вычесть c заемом d8 из А

</td>
</tr>
<tr>
<td>
XCHG

</td>
<td>
EB

</td>
<td>
Обмен содержимым DE и HL

</td>
</tr>
<tr>
<td>
XTHL

</td>
<td>
E3

</td>
<td>
Обмен содержимого вершины стека с содержимым HL

</td>
</tr>
<tr>
<td>
XRA A

</td>
<td>
AF

</td>
<td>
Исключающее ИЛИ A с A (очистка A)

</td>
</tr>
<tr>
<td>
XRA B

</td>
<td>
A8

</td>
<td>
Исключающее ИЛИ B с A

</td>
</tr>
<tr>
<td>
XRA C

</td>
<td>
A9

</td>
<td>
Исключающее ИЛИ C с A

</td>
</tr>
<tr>
<td>
XRA D

</td>
<td>
AA

</td>
<td>
Исключающее ИЛИ D с A

</td>
</tr>
<tr>
<td>
XRA E

</td>
<td>
AB

</td>
<td>
Исключающее ИЛИ E с A

</td>
</tr>
<tr>
<td>
XRA H

</td>
<td>
AC

</td>
<td>
Исключающее ИЛИ H с A

</td>
</tr>
<tr>
<td>
XRA L

</td>
<td>
AD

</td>
<td>
Исключающее ИЛИ L с A

</td>
</tr>
<tr>
<td>
XRA M

</td>
<td>
AE

</td>
<td>
Исключающее ИЛИ Loc(HL) с A

</td>
</tr>
<tr>
<td>
XRI d8

</td>
<td>
EE

</td>
<td>
Исключающее ИЛИ d8 с A

</td>
</tr>
</table>



<p>Команды с кодами 08, 10, 18, 38, CB , D 9, DD , ED и FD в системе команд МП 8080 отсутствуют. </p>

<h2>О выполнении некоторых команд i8080</h2>
<p>Команды пересылки данных между регистрами кодируются в одном байте (это типичный случай регистровой адресации) следующим образом:</p>
<p class=PlainChar><span>01DDDSSS</span></p>
<p>где <span class=HTMLCode>DDD</span> - номер регистра назначения; <span class=HTMLCode>SSS</span> - номер регистра приёмника. Соответственно <span class=HTMLCode>01</span> - код операции пересылки. Никаких флагов команды пересылки не устанавливают. На выполнение команды тратится один машинный цикл.</p>
<h3>Кодировка номера регистра (DDD и SSS) </h3>
<table cellspacing="0" cellpadding="5">
  <tr>
    <td>Код </td>
    <td>Регистр </td>
  </tr>
  <tr>
    <td>000 </td>
    <td>B </td>
  </tr>
  <tr>
    <td>001 </td>
    <td>C </td>
  </tr>
  <tr>
    <td>010 </td>
    <td>D </td>
  </tr>
  <tr>
    <td>011 </td>
    <td>E </td>
  </tr>
  <tr>
    <td>100 </td>
    <td>H </td>
  </tr>
  <tr>
    <td>101 </td>
    <td>L </td>
  </tr>
  <tr>
    <td>110 </td>
    <td>M </td>
  </tr>
  <tr>
    <td>111 </td>
    <td>A </td>
  </tr>
</table>
<p>M – содержимое ячейки памяти, адресуемое регистровой парой HL . </p>
<p>Пересылка из ячейки памяти в регистр и из регистра в память осуществляется с помощью косвенно регистровой адресации. Это означает, что адрес ячейки памяти загружается в регистровую пару <span class=HTMLCode>HL</span>, а в командах типа <span class=HTMLCode>MOV A,M</span> (такие команды кодируются как <span class=HTMLCode>01DDD110</span>) в регистр <span class=HTMLCode>A</span> будет загружено содержимое ячейки памяти, адрес которой содержится в <span class=HTMLCode>HL</span>. Так как в таких командах требуется обращение к памяти, то на их выполнение нужно два машинных цикла. Система команд процессора очень экономична - она не рассчитана на поддержку языков высокого уровня. Все это появится в Intel-процессорах позже.</p>
<p>Замечу, что средняя длина команды в типичной программе равна двум байтам, а для программ более поздних 16-разрядных процессоров типа 8086 она равна 4,1. Поэтому на логических программах 8-разрядные процессоры не сильно уступали 16-разрядным.</p>
<p>Аналогично работают и команды записи в память.</p>
<p>Команды непосредственной пересылки двухбайтные. В первом байте кодируются код операции и регистр, а второй содержит байт пересылаемых данных:</p>
<p class=PlainChar><span>00DDD110 XXXXXXXX</span></p>
<p>Очевидно, что для исполнения команды требуется два цикла.</p>
<p>Более интересна версия этой команды 


 <span>MVI M,d8</span>, когда байт непосредственных данных пишется в память.</p>
<p>Она кодируется так:</p>
<p class=PlainChar><span>00110110 ХХХХХХХХ</span></p>
<p>Исполнение занимает три цикла.</p>
<p>Очень полезна группа команд <span class=HTMLCode>LXI</span> непосредственной загрузки регистровых пар непосредственным значением. Она позволяет одной командой переместить сразу два байта данных и широко используется программистами как в операциях адресной арифметики, так и при выполнении целочисленных вычислений.</p>
<p>Команда кодируется так:</p>
<p class=PlainChar><span>00RP0001 xxxxxxxx zzzzzzzz</span></p>
<p>где <span class=HTMLCode>RP</span> - регистровая пара; <span class=HTMLCode>хххххххх</span> - младший байт данных, <span class=HTMLCode>zzzzzzzzz</span> - старший байт данных.</p>
<p>При исполнении команды, требующей трех машинных циклов, старший байт данных грузится в старший регистр регистровой пары, а младший байт - в младший регистр. Название старшего регистра стоит в названии пары первым.</p>
<p>Команда прямой загрузки аккумулятора 

 
<span>LDA a16</span>  позволяет загрузить в него данные, на которые указывает адрес, содержащийся в самой команде.</p>
<p>Длина команды три байта. Кодируется она так:</p>
<p class=PlainChar><span> 00111010  хххххххх zzzzzzzz</span></p>
<p>где <span class=HTMLCode>xxxxxxxx</span> - младшая часть адреса; <span class=HTMLCode>zzzzzzzz</span> - старшая часть адреса.</p>
<p>Исполнение занимает машинных четыре цикла.</p>
<p>Симметричная по действию команда <span class=HTMLCode>STA</span>.</p>
<p>Команда <span class=HTMLCode>LHLD addr</span> (мнемоника расшифровывается Load H and L Direct) загружает в <span class=HTMLCode>L</span> содержимое ячейки памяти по адресу, кодируемому во втором и третьем байтах команды (т. е. адресация прямая). В <span class=HTMLCode>H</span> загружается байт из ячейки <span class=HTMLCode>addr+1</span>.</p>
<p>Команда выполняется за пять машинных циклов. Обратная ей по действию команда <span class=HTMLCode>SHLD</span> (Store H and L Direct).</p>
<p>Команда <span class=HTMLCode>LDAX reg</span> (мнемоника от Load accumulator indirect). Содержимое ячейки памяти, адресуемой регистровой парой BC или DE, за два цикла загружается в аккумулятор.</p>
<p>Обратная по действию команда <span class=HTMLCode>STAX reg</span>.</p>
<p>Очень полезная команда <span class=HTMLCode>XCHG</span>. (H)&larr;&gt;(D), (L)&larr;&gt;(E). Выполняется за один цикл.</p>
<h3>Арифметические команды</h3>
<p>Начнем со сложения. Сложить аккумулятор с содержимым регистра ADD reg</p>
<p>Кодировка: <span class=HTMLCode>10000RRR</span></p>
<p>Выполняется за один цикл. Обратите внимание, что все арифметические команды изменяют флаги: Z,S,P,CY,AC.</p>
<p>Для выполнения многобайтового сложения необходимо учитывать перенос. Поэтому младшие байты слагаемых складываются с помощью команды <span class=HTMLCode>ADD</span>, а все последующие в помощью команды <span class=HTMLCode>ADC reg</span>. Она учитывает при сложении содержимое флага переноса. Понятно, что в этой системе команд легко написать арифметику, которая будет работать с целыми числами длиной несколько килобайт (что и было сделано в системе muMATH-80).</p>
<p>Аналогично устроены команды вычитания.</p>
<p>Разновидностью команды сложения является команда инкремента регистра, необходимая для адресной арифметики и организации циклов.</p>
<p class=PlainChar><span>INR reg</span></p>
<p>Кодировка: <span class=HTMLCode>00ККК100</span></p>
<p>Устанавливаются все флаги, за исключением CY.</p>
<p>Обратная по действию команда <span class=HTMLCode>DCR reg</span>.</p>
<p>Довольно редко используется команда <span class=HTMLCode>DAA</span> (мнемоника от Decimal Adjust Accumulator) выполняет следующие действия: если содержимое младшего полубайта (нибла) аккумулятора меньше 9 или установлен флаг CY, то (A) + 6, если значение старшего полубайта больше 9 или установлен флаг CY, то 6 добавляется к содержимому старшего полубайта.</p>
<p>При этом устанавливаются все флаги.</p>
<h3>Логические команды</h3>
<p class=PlainChar><span>ANA reg</span></p>
<p>Флаг CY сбрасывается, а AC устанавливается (в 8085). В микропроцессоре 8080 на эти флаги влияет результат операции над третьими битами операндов.</p>
<p>В командах групп <span class=HTMLCode>XRA</span> и <span class=HTMLCode>ORA</span> флаги CY и AC сбрасываются.</p>
<p><span class=HTMLCode>CMP reg</span> - сравнить регистр (Compare register), вычитает содержимое регистра из аккумулятора. Содержимое аккумулятора не изменяется. Флаги устанавливаются как при вычитании. Z=1, если (A) = (reg). CR = 1, если (A) &lt; (reg).</p>
<p>Циклический сдвиг влево <span class=HTMLCode>RCL</span> работает следующим образом. Содержимое аккумулятора сдвигается на одну позицию влево, т. е. каждый старший бит получает значение стоящего рядом с ним младшего бита. Содержимое седьмого бита переходит в нулевой бит аккумулятора:</p>
<p>(CY) &larr;(b7).</p>
<p><span class=HTMLCode>RRC</span> - сдвигает содержимое аккумулятора вправо. (CY)&larr; (b0), (b7)&larr;(b0).</p>
<p><span class=HTMLCode>RAL</span> - (Rotate Left trough Carry). Сначала (CY) заносится в младший бит аккумулятора, а потом в CY записывается содержимое старшего его бита.</p>
<p>Формально: (b0)&larr;(CY), (CY)&larr;(b7).</p>
<p>Аналогично со сдвигом вправо: (Bn)&larr;(Bn+1), (CY)&larr;(b0), (b7)&larr;(CY).</p>
<p>Команда <span class=HTMLCode>CMA</span> (мнемоника от Complement Accumulator) инвертирует каждый бит аккумулятора, т. е. 0 становится 1 и наоборот. Флаги не устанавливаются.</p>
<p>Команда <span class=HTMLCode>CMC</span> инвертирует содержимое флага переноса. Другие флаги не устанавливаются.</p>
<p>По командам управления стоит отметить выполнение команды вызова подпрограммы.</p>
<p><span class=HTMLCode>CALL addr</span> - при ее выполнении в стек записывается адрес следующей за <span class=HTMLCode>CALL</span> команды, значение указателя стека дважды декрементируется, а управление передается по указанному адресу.</p>
<p>Команда возврата из подпрограммы записывает в счетчик команд адрес из вершины стека, увеличивает указатель стека на 2 и передает управление на новый адрес. Поэтому если модифицировать адрес возврата в стеке, то можно перейти совсем в другое место.</p>
<p>Для этого есть, впрочем, более удобная возможность - команда <span class=HTMLCode>PCHL</span>. Она позволяет передать управление по адресу в регистровой паре HL.</p>
<p>Иногда в системных программах используется команда останова <span class=HTMLCode>HLT</span>. Процессор останавливается, регистры и флаги не устанавливаются. Для запуска важно подать сигнал Reset.</p>
<p><span class=HTMLCode>IN port</span> - данные из порта с указанным номером считываются в аккумулятор. Циклов 3. Флаги не изменяются.</p>
<p><span class=HTMLCode>OUT port</span> - содержимое аккумулятора помещается на шину данных для записи в указанный в команде порт.</p>
<p>Как видим, система команд проста и незатейлива. Ее легко осваивали даже электронщики. Написано множество эмуляторов системы 8080, 8085 и Z-80 для PC, а также обучающих программ для студентов.</p>
<p>Конечно, через двадцать лет можно и Бейсик забыть. Поэтому, возможно, какие-то моменты я пропустил. Буду искренне благодарен всем приславшим на адрес <a href='mailto:chief@pcweek.ru'>chief@pcweek.ru</a> свои дополнения и замечания, примеры учебных программ и т. п.</p>
<p class=BooklistTitle>Литература</p>
<ol>
<li><strong>Озерецковский С.</strong> <span>К 25-летию первого микропроцессора Intel. </span>
<a href='http://www.ritmpress.ru/it/press/cwm/41_96/list.htm'>http://www.ritmpress.ru/it/press/cwm/41_96/list.htm</a>.</li>
<li><span>Эмулятор компьютера Радио-РК. </span>
<a href='http://radio86.googlecode.com'>http://radio86.googlecode.com</a>.</li>
<li><span>Сайт Николая Жеведя, посвященный истории компьютера ОРИОН-128</span> (конструкция опубликована в первом номере журнале "Радио" за 1990 г.) 
<a href='http://orion128.nm.ru/'>http://orion128.nm.ru/</a></li>
<li><span></span>Справочник по микропроцессорам. </span>
<a href='http://www.microprocessor.sscc.ru/chiplist'>http://www.microprocessor.sscc.ru/chiplist</a>.</li>
<li>
  <strong>Левенталь Л., Сэйвилл У.</span> <span>Программирование на языке ассемблера для процессоров 8080 и 8085.</span> –М.: Радио и связь, 1987. -448 с. 
</li>
</ol>
