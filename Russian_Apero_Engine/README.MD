# командаы и синтаксис апероаСкрипт
![](http://apero.ru/public/img/logo.png)
## [Документация на сайте APERO.RU](http://apero.ru/Документация)

## Оглавление (в процессе пополнения)
* ...
* []()
* [ББ-коды](#ББ-коды)
* [Таблицы](#Таблицы)
* [Блоки](#Блоки)
* ...
* ...
* [Приложение 1 ~ формат цвета в Аперо](#Приложение-один)
* [Приложение 2 ~ закрытие блоков, смена параметров](#Приложение-два)


## ББ-коды
Поддерживаются некоторые BB-коды:

**(ж)Жирный(/ж) или [b]Жирный[/b]** - текст будет выведен жирный.

**(к)Курсив(/к) или [i]Курсив[/i]** - текст будет выведелен как курсив.

**(п)Подчеркнутый(/п) или [u]Подчеркнутый[/u]** - текст будет выведен как подчеркнутый.  

**(з)Зачеркнутый(/з) или [c]Зачеркнутый[/c]** - текст будет выведен как зачеркнутый.  

**ВНИМАНИЕ! Следующий пример иллюстрирует синтаксис лишь на примере зачеркнутого текста, но это касается любых ББ-кодов. Если зачеркнутый текст (или подчёркнутый, или жирный, или курсив) нужно вывести на экран по условию после команды `\ИНАЧЕ` то следует обязательно использовать конструкцию как для многострочного условия со скобками и знаком `\` таким образом:** `\ЕСЛИ (переменная.икс>1) \ТО Вывести незачёркнутый текст \ИНАЧЕ ((з)Вывести зачёркнутый текст(/з)\)`

**(цвет=красный)Красный(/цвет)**  или   
**[color=red]Красный[/color]** или  
**[color=#FF8800]Оранжевый[/color]** или  
**[color=rgba(0,0,255,0.5)]Полупрозрачный синий[/color])** - задает цвет выделенного фрагмента текста. Подробнее формат цвета в [приложении 1](#Приложение-один).

**(шрифт=sans-serif)Шрифт(/шрифт) или [font=sans-serif]Шрифт[/font]** - текст будет выведен шрифтом.    

**(размер=26)Размер(/размер) или [size=26]Размер[/size]** - изменён размер шрифта.

**(линия) или [hr]** - создает горизонтальную линию.  

**(линия=4) или [hr=4]** - создает горизонтальную линию с фиксированной толщиной. Толщина может быть разной.  

**(линия #ff9999) или [hr #ff9999]** - создает горизонтальную линию определенного цвета. Цвет может быть разным.  

**(линия=4 #ff9999) или [hr=4 #ff9999]** - создает горизонтальную линию с фиксированной толщиной и определенного цвета.  


**(разрыв) или [br]** - создает разрыв строки для деления текста на абзацы. Несколько (разрыв) или [br] подряд будут работать как один. 

**(разрыв)&nbsp;(разрыв) или [br]&nbsp;[br]** - создает разрыв аналогичный двойному нажатию Enter. Является аналогом блока **\(АПЕРО.блок.отступ.снизу=100)**  

**(пробел) или [s]** - создает пробел.  

**(пусто) или []** - создает строку нулевой длины (пусто).  

## Таблицы
**Таблица записывается так:**
```
(таблица)
(строка)
(столбец)Строка 1 Столбец 1(/столбец)(столбец)Строка 1 Столбец 2(/столбец)(столбец)Строка 1 Столбец 3(/столбец)
(/строка)
(строка)
(столбец)Строка 2 Столбец 1(/столбец)(столбец)Строка 2 Столбец 2(/столбец)(столбец)Строка 2 Столбец 3(/столбец)
(/строка)
(строка)
(столбец)Строка 3 Столбец 1(/столбец)(столбец)Строка 3 Столбец 2(/столбец)(столбец)Строка 3 Столбец 3(/столбец)
(/строка)
(/таблица)
```
или
```
[table]
[tr]
[td]Строка 1 Столбец 1[/td][td]Строка 1 Столбец 2[/td][td]Строка 1 Столбец 3[/td]
[/tr]
[tr]
[td]Строка 2 Столбец 1[/td][td]Строка 2 Столбец 2[/td][td]Строка 2 Столбец 3[/td]
[/tr]
[tr]
[td]Строка 3 Столбец 1[/td][td]Строка 3 Столбец 2[/td][td]Строка 3 Столбец 3[/td]
[/tr]
[/table]
```
**Таблица будет выглядеть так:**
```
Строка 1 Столбец 1	Строка 1 Столбец 2	Строка 1 Столбец 3
Строка 2 Столбец 1	Строка 2 Столбец 2	Строка 2 Столбец 3
Строка 3 Столбец 1	Строка 3 Столбец 2	Строка 3 Столбец 3
```
**ВНИМАНИЕ! Всегда сдедует проверять, закрыты ли все теги таблиц строк и столбцов. Эти ошибки могут нарушить синтаксис последующих блоков кода, привести к несрабытыванию разных функций, сохранений игры и прочиего.**

**(таблица=3) или [table=3]** - добавляет в таблицу границы солщиной равной 3-м пикселям. Тощину можно делать разной.

**(столбец=100) или [td=100]** - фиксирует ширину столбца разную 100 пикселям. Ширину можно делать разной.

**(строка=100) или [tr=100]** - фиксирует высоту строки разную 100 пикселям. Высоту можно делать разной.

**(столбец #ff9999) или [td #ff9999]** - задаёт [цвет](#Приложение-один) фона столбца. Цвет можно делать любым.

**(строка #ff9999) или [tr #ff9999]** - задаёт [цвет](#Приложение-один) фона строки. Цвет можно делать любым.  

**(столбец=100 #ff9999) или [td=100 #ff9999]** - можно одновременно фиксировать и ширину столбца и задавать [цвет](#Приложение-один) фона.  

**(строка=100 #ff9999) или [tr=100 #ff9999]** - можно одновременно фиксировать и высоту строки и задавать [цвет](#Приложение-один) фона.  

**(заголовок=100)Строка 1 Столбец 1(/заголовок)** - делает некоторые столбцы сделать заголовками. Для этого вместо (столбец) или [td] следует написать **(заголовок) или [th]**. Эти заголовки аналогичны обычным столбцам, только различаются по цвету фона.  

**(столбец #ffbb44)(цвет=#ff00ff)текст1(/цвет)(/столбец)** - задает индивидуально [цвет](#Приложение-один) текста в каждой ячейке. Таким образом:
```
(таблица)(строка)
(столбец #ffbb44)(цвет=#ff00ff)текст1(/цвет)(/столбец)
(/строка)(/таблица)
```

## Блоки
Открытие и закрытие блоков смотрите в [приложении 2](#Приложение-два).

**`\(АПЕРО.стиль="ночь")`** - меняет стиль оформления игры на стиль "ночь". Есть еще стили:
*  "минимализм"
* "ночной минимализм"
* "стандартный" (оформление по умолчани)  

**`\(АПЕРО.фон="#FFDDB4")`** - задает цвет фона. Цвет может быть разным. Не противоречит ранее заданному блоку `\(АПЕРО.стиль="...")`, меняя в оформлении только цвет фона.

**`\(АПЕРО.блок.тип="контейнер")`** - задаёт тип блока указанный как аргумент в кавычках: 
* "контейнер" аналогичен <div> в html, нет будет подсветки при наведении мыши, нет отступа первой строки.
* "в строку" аналогичен <span> в html.
* "выключить" без добавления оформляющих тэгов.
* "параграф" (по умолчанию) аналогичен <p> в html.
  
**`\(АПЕРО.блок.ширина.в процентах=1)`** - триггер смены исчисления ширины блока с пикселей на проценты в команде `\(АПЕРО.блок.ширина...`. Аргумент после знака `=` произвольный числовой, ни на что не влияет, важно только, чтобы он был > 0.
  
**`\(АПЕРО.блок.ширина=80)`** - задаёт ширину блока в пикселях. Если до этого была объявлена переменная `\(АПЕРО.блок.ширина.в процентах=1)`, то ширина блока исчисляется уже в процентах 0 до 100.

**`\(АПЕРО.блок.высота текста=22)`** - задаёт высоту **текста** в пикселях, _рекомендуемый диапазон от 12 до 32_.

**`\(АПЕРО.блок.высота строки=24)`** - задаёт высоту **строки** в пикселях, _рекомендуемый диапазон от 12 до 32)_.

**`\(АПЕРО.блок.скрыть=1)`** - скрывает блок. Если эта переменная объявлена, блок не будет отображен пользователю.

**`\(АПЕРО.блок.позиция="относительная")`** - НЕЯСНЫЙ ТЕКСТ, ПРОВЕРИТЬ, ПЕРЕПИСАТЬ (_задаёт позицию блока. Доступны позиции:_)
* "относительная"
* "абсолютная"
* "фиксированная"
* "статичная" (по умолчанию)

    Зависимые параметры от параметра блока `\(АПЕРО.блок.позиция...`:  
    1. **`\(АПЕРО.блок.слева=320)`** - задаёт позицию блока слева от 0 до 100 и изчисляется в процентах, если объявлена переменная `\(АПЕРО.блок.слева.в процентах=1)`, и исчисляется по умолчанию в пикселях, если не объявлена. Если значение `\(АПЕРО.блок.слева...` задано, но перед этим родительское значение `\(АПЕРО.блок.позиция...)` не задано, то `\(АПЕРО.блок.позиция...)` автоматически задается движком в аргументом "относительная".  
    2. **`\(АПЕРО.блок.сверху=90)`** - задаёт позицию блока сверху, если объявлена переменная `\(АПЕРО.блок.слева.в процентах=1)`, и исчисляется по умолчанию в пикселях, если не объявлена. Если значение `\(АПЕРО.блок.слева...` задано, но перед этим родительское значение `\(АПЕРО.блок.позиция...)` не задано, то `\(АПЕРО.блок.позиция...)` автоматически задается движком в аргументом "относительная".  

**`\(АПЕРО.блок.обтекание="заново")`** - НЕЯСНЫЙ ТЕКСТ, ПРОВЕРИТЬ, ПЕРЕПИСАТЬ (_задаёт режим обтекания текущего блока относительно предыдущих блоков с "шириной" < 100% и установленным значением "выравнивание блока". Если "заново", то отменить обтекание текущего блока относительно предыдущих. Если "включено", то обтекание в стандартном режиме(по умолчанию)_).

\(АПЕРО.блок.выравнивание блока="по правому краю") - задаёт способ выравнивания блока по краю при ширине блока < 100%. Доступны способы:
* "по правому краю"
* "выключить"
* "по левому краю" (по умолчанию)

**`\(АПЕРО.блок.отступ.общий=5)`** - задаёт отступ блока со всех строн на заданное количество пикселей.  

**`\(АПЕРО.блок.отступ.слева=5)`** - задаёт отступ блока с конкретной сторны на заданное количество пикселей. Игнорируется, если до этого была объявлена переменная `\(АПЕРО.блок.отступ.общий)`. Аналогичные команды для других сторон:
* **`\(АПЕРО.блок.отступ.справа=5)`**
* **`\(АПЕРО.блок.отступ.сверху=5)`**
* **`\(АПЕРО.блок.отступ.снизу=5)`**  

**`\(АПЕРО.блок.выравнивание текста="по правому краю")`** - выравнивание текста и картинок внутри блока. Доступны аргументы:
* "по ширине"
* "по правому краю"
* "по левому краю"
* "по центру"(по умолчанию)

**`\(АПЕРО.блок.цвет текста="red")`** - задать цвет текста в конкретном блоке. Подробнее формат цвета в [приложении 1](#Приложение-один). 

**`\(АПЕРО.блок.абзац=30)`** - задаёт отступ первой строки абзаца в пикселях. Если указать "нет", то будет установлен нулевой отступ.  

**`\(АПЕРО.блок.скругление=30)`** - задает радиус скругления границ блока в пикселях. Если указать "нет", то будет скругление будет выключено.

**`\(АПЕРО.блок.шаблон="картинка")`** - НЕЯСНЫЙ ТЕКСТ, ПРОВЕРИТЬ, ПЕРЕПИСАТЬ (_Вывод следующего блока(только следующего!) будет в соответствии с шаблоном "картинка" (по центру, отступы, выключена подсветка при наведении на блок и отступ первой строки) Пока поддерживается только шаблон "картинка". Если хочешь продолжать вывод дальше по шаблону, объяви переменную "АПЕРО.блок.шаблон.закрепить". Переменная автоматически обнуляется после вывода первого блока, если не объявлена переменная "АПЕРО.блок.шаблон.закрепить"_)  

**`\(АПЕРО.блок.шаблон.закрепить=1)`** - вывод всех последующих блоков будет в соответствии с шаблоном, после объявления этой переменной со значением 1. (_вероятно, шаблон отключается, после присвоения этой переменной значения 0_).

# Приложения

## Приложение один
Синтаксис аргумента цвета в Аперо:
**(цвет=красный)Красный(/цвет)**  или   
**[color=red]Красный[/color]** или  
**[color=#FF8800]Оранжевый[/color]** или  
**[color=rgba(0,0,255,0.5)]Полупрозрачный синий[/color])** - по списку соответственно: красный, оранжевый, полупрозрачный синий. В целом форманы записи цветра схожи с форматом записи цвета в **html**, **css**, **js**. Среди стандартных цветов с 16-ричными кодами типа #FF8800, поддерживаются следующие русские имена:
* red - красный  
* orange - оранжевый 
* yellow - желтый  
* green - зеленый  
* blue - голубой  
* indigo - синий  
* violet - сиреневый  
* purple - фиолетовый  
* pink - розовый  
* silver - серебряный  
* gold - золотой  
* beige - бежевый  
* brown - коричневый  
* gray - серый  
* black - черный  
* white - белый

## Приложение два
Чаще всего объявление блока ("открытие" на подобии html тегов) начинается одной из приведённых в документации команд, а "закрывается" той же самой командой, но с аргументом 0 (ноль). Например:
```
\(АПЕРО.блок.тип="контейнер") //объявление блока "открытие".
Содержимое этого блока, с присущими этому типу блоков особенностями вывода на экран.
\(АПЕРО.блок.тип=0) //"закрытие" блока, полная читска всех внутренних переменных, связанных с ним.
Следующее содержимое локации выводящееся на экран способом по умолчанию.

```
Однако, закрытие конкретного "тэга", который может быть у одного блока не единственным (тип, выравнивание, и т.д.), может происходить не только через обнуление служебных переменных этих команд, но и через их смену на другие значения. Например.
```
\(АПЕРО.блок.тип="контейнер") //объявление блока "открытие".
Произвольное содержимое блока типа контейнер, с присущими этому типу особенностями вывода на экран.
\(АПЕРО.блок.тип="в строку") //"закрытие" блока через объявление нового типа блока.
Произвольное содержимое блока типа в строку, с присущими этому типу особенностями вывода на экран.
```
